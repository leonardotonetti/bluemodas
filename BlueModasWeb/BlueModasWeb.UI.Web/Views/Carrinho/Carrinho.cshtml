@model BlueModasWeb.UI.Web.ViewModel.Carrinho.CarrinhoViewModel
@{ Layout = null;}

<div class="col-lg-8">
    <div class="mb-3">
        <div class="pt-4">
            <h5 class="mb-4">Você está comprando (<span id="spnQtdProdutos">@Model.CarrinhoItens.Count()</span> produtos)</h5>
            @{ var cont = 0;}
            @foreach (var item in Model.CarrinhoItens)
            {
                <div class="divItem" data-index="@cont">
                    <div class="row mb-4">
                        <div class="col-md-5 col-lg-3 col-xl-3">
                            <div class="mb-3 mb-md-0">
                                <img class="img-fluid w-100"
                                     src="~/images/semimagem.jpg">
                            </div>
                        </div>
                        <div class="col-md-7 col-lg-9 col-xl-9 dadosItem">
                            <div>
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h5>@item.Produto.Nome</h5>
                                    </div>
                                    <div>
                                        <input type="number" min="1" value="@item.QuantidadeItem" id="txtQuantidade" onchange="calcularValorTotal()">
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <a href="#!" type="button" class="small text-uppercase" onclick="excluirItem(this)">
                                            <i class="fas fa-trash-alt mr-1"></i> Excluir item
                                        </a>
                                    </div>
                                    <p class="mb-0">
                                        <span>
                                            <strong id="spnValorUnitario" data-valorUnitario="@item.Produto.ValorUnitario">R$ @item.Produto.ValorUnitario.ToString("N2")</strong>
                                        </span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="mb-4">
                </div>
                cont++;
            }
        </div>
    </div>
</div>
<div class="col-lg-4">
    <div class="mb-3">
        <div class="pt-4">
            <h5 class="mb-3">Finalizar</h5>
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                    <div>
                        <strong>Valor Total:</strong>
                    </div>
                    <span>
                        <strong id="spnValorTotal">R$ @Model.ValorTotal.ToString("N2")</strong>
                    </span>
                </li>
            </ul>
            <button type="button" class="btn btn-primary btn-block" onclick="finalizarCompra()">Finalizar Compra</button>
            <button type="button" class="btn btn-secondary btn-block" onclick="continuarComprando()">Continuar Comprando</button>
        </div>
    </div>
</div>